import{r as h,o as n,c as l,a as e,b as i,w as a,u as s,G as H,Q as L,_ as M,q,Y as F,d as w,e as O,l as R,F as C,f as V,g as z,i as N,h as m,j as A,k as j,M as B,n as P,m as T,t as p,p as S,s as Z,v as E,x as G,L as Y,y as D,z as Q}from"./vendor.91642444.js";const K=function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))u(o);new MutationObserver(o=>{for(const t of o)if(t.type==="childList")for(const f of t.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&u(f)}).observe(document,{childList:!0,subtree:!0});function c(o){const t={};return o.integrity&&(t.integrity=o.integrity),o.referrerpolicy&&(t.referrerPolicy=o.referrerpolicy),o.crossorigin==="use-credentials"?t.credentials="include":o.crossorigin==="anonymous"?t.credentials="omit":t.credentials="same-origin",t}function u(o){if(o.ep)return;o.ep=!0;const t=c(o);fetch(o.href,t)}};K();const U={class:"fixed inset-0 z-10 overflow-y-auto"},W={class:"min-h-screen px-4 text-center"},J=e("span",{class:"inline-block h-screen align-middle","aria-hidden":"true"}," \u200B ",-1),X={class:"inline-block w-full max-w-xl p-6 my-8 overflow-hidden text-left align-middle transition-all transform bg-white shadow-xl rounded-2xl"},ee=w(" Help "),te=e("div",{class:"mt-4"},[e("p",{class:"text-indigo-500 font-medium"}," Recommend function provides two utilities: Finding Similar Items and Contextual Semantic Search "),e("p",{class:"text-sm text-gray-900 font-medium mt-4"}," Find Similar Items "),e("ul",{class:"list-inside list-disc text-sm text-gray-700 my-2"},[e("li",null," Type in a few characters to trigger autocomplete search. "),e("li",null,"Search results will appear under Records."),e("li",null,"Click on an item to search for similar items"),e("li",null," Items similar to the one selected will be displayed under Similar Items. ")]),e("p",{class:"text-sm text-gray-900 font-medium mt-4"}," Contextual Search "),e("ul",{class:"list-inside list-disc text-sm text-gray-700 my-2"},[e("li",null," Contextual search allows you find items semantic similar to the query terms. "),e("li",null," You can any number of keywords in the query to explain the context "),e("li",null," The Context can also be assumed as a title or description of one of more items previously searched by a user "),e("li",null,"Enter the query and click the Search button"),e("li",null,[w(" Try queries like "),e("b",null,"party wear for women"),w(", "),e("b",null,"jewelry"),w(", or "),e("b",null,"gift for kids")])])],-1),se={setup(d){const r=h(!0);function c(){r.value=!1}function u(){r.value=!0}return(o,t)=>(n(),l("div",null,[e("div",{class:"flex items-center justify-center"},[e("button",{type:"button",onClick:u,class:"px-4 py-2 text-sm font-medium text-white bg-black rounded-md bg-opacity-20 hover:bg-opacity-30 focus:outline-none focus-visible:ring-2 focus-visible:ring-white focus-visible:ring-opacity-75"}," Help ")]),i(s(F),{appear:"",show:r.value,as:"template"},{default:a(()=>[i(s(H),{as:"div",onClose:c},{default:a(()=>[e("div",U,[e("div",W,[i(s(L),{as:"template",enter:"duration-300 ease-out","enter-from":"opacity-0","enter-to":"opacity-100",leave:"duration-200 ease-in","leave-from":"opacity-100","leave-to":"opacity-0"},{default:a(()=>[i(s(M),{class:"fixed inset-0 bg-slate-900/70"})]),_:1}),J,i(s(L),{as:"template",enter:"duration-300 ease-out","enter-from":"opacity-0 scale-95","enter-to":"opacity-100 scale-100",leave:"duration-200 ease-in","leave-from":"opacity-100 scale-100","leave-to":"opacity-0 scale-95"},{default:a(()=>[e("div",X,[i(s(q),{as:"h3",class:"text-lg font-medium leading-6 text-gray-900"},{default:a(()=>[ee]),_:1}),te,e("div",{class:"mt-6"},[e("button",{type:"button",class:"inline-flex justify-center px-4 py-2 text-sm font-medium text-blue-900 bg-blue-100 border border-transparent rounded-md hover:bg-blue-200 focus:outline-none focus-visible:ring-2 focus-visible:ring-offset-2 focus-visible:ring-blue-500",onClick:c}," Got it, thanks! ")])])]),_:1})])])]),_:1})]),_:1},8,["show"])]))}};var oe=(d,r)=>{const c=d.__vccOpts||d;for(const[u,o]of r)c[u]=o;return c};const ie={},ne={class:""},le=e("div",{class:"p-6 w-64 flex items-center space-x-2"},[e("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",class:"animate-spin text-white h-6 w-6"},[e("circle",{cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"1"}),e("path",{fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]),e("p",{class:"text-xl font-medium text-white"},"Searching...")],-1),ae=[le];function re(d,r){return n(),l("div",ne,ae)}var I=oe(ie,[["render",re]]);const ce={class:"max-w-xl lg:max-w-5xl mx-auto px-4 py-[5vh]"},de=e("h1",{class:"text-5xl text-indigo-100 text-center mb-6"},"Recommend",-1),ue=O('<h2 class="text-white font-semibold text-center my-5 underline underline-offset-2"><a class="flex space-x-1 items-center justify-center" href="https://www.seqwa.com" rel="noreferrer" target="_blank"><span>Seqwa | AI-Powered Semantic Search</span><svg viewBox="0 0 24 24" fill="none" class="h-4 w-4 lg:h-6 lg:w-6 fill-current" xmlns="http://www.w3.org/2000/svg"><path d="M11.2716 7.25C11.2716 6.83579 11.6073 6.5 12.0216 6.5H16.75C17.1642 6.5 17.5 6.83579 17.5 7.25V11.9785C17.5 12.3927 17.1642 12.7285 16.75 12.7285C16.3358 12.7285 16 12.3927 16 11.9785V9.06066L10.7803 14.2803C10.4874 14.5732 10.0126 14.5732 9.71967 14.2803C9.42678 13.9874 9.42678 13.5126 9.71967 13.2197L14.9393 8H12.0216C11.6073 8 11.2716 7.66421 11.2716 7.25Z"></path><path d="M6.15675 5.25C6.57853 3.94437 7.80398 3 9.25 3H17.75C19.5449 3 21 4.45507 21 6.25V14.8382C21 16.1902 20.1745 17.3494 19 17.8392V17.9751C19 19.0247 18.4705 19.82 17.6913 20.3191C16.9414 20.7995 15.9737 21.0045 14.9977 20.9999L14.9963 20.9999L10.9191 20.9952L7 20.9951C5.84332 20.9951 4.83555 20.6327 4.11066 19.9496C3.38287 19.2639 3 18.3103 3 17.25V8.5C3 7.63484 3.21573 6.81725 3.73399 6.20358C4.26793 5.57135 5.04354 5.25 5.95588 5.25H6.15675ZM6 6.75H5.95588C5.41235 6.75 5.08501 6.92865 4.87998 7.17142C4.65927 7.43275 4.5 7.86516 4.5 8.5V17.25C4.5 17.9397 4.74213 18.4837 5.13934 18.8579C5.53944 19.2349 6.15669 19.4951 7 19.4951L10.9191 19.4952L15.0009 19.4999L15.0037 19.4999C15.7919 19.5038 16.4486 19.3338 16.8822 19.0561C17.254 18.8179 17.4641 18.5061 17.4958 18.0882H9.25C7.45508 18.0882 6 16.6332 6 14.8382V6.75ZM9.25 4.5C8.2835 4.5 7.5 5.2835 7.5 6.25V14.8382C7.5 15.8047 8.2835 16.5882 9.25 16.5882H17.75C18.7165 16.5882 19.5 15.8047 19.5 14.8382V6.25C19.5 5.2835 18.7165 4.5 17.75 4.5H9.25Z"></path></svg></a></h2>',1),fe={class:"relative mt-1"},me=["defaultValue"],ge={className:"grid grid-cols-2 gap-x-5 py-4"},he={key:0,class:"rounded-lg shadow-lg ring-1 ring-black ring-opacity-5 mt-2"},pe=e("div",{class:"relative rounded-lg grid gap-8 bg-white p-7 lg:grid-cols-2"},[e("div",{class:"cursor-default select-none relative py-2 px-4 text-gray-700"}," Nothing found. ")],-1),_e=[pe],xe={key:1,class:"ring-1 ring-black ring-opacity-5 mt-2"},ve={class:"relative rounded-lg grid gap-8"},ye=w("Products"),we={class:"space-y-2"},be=["onClick"],ke={class:"flex items-center justify-between w-full"},Ce={class:"flex items-center space-x-2"},Ve={class:"flex items-center justify-center flex-shrink-0 w-10 h-10 text-slate-700 text-xs sm:h-12 sm:w-12"},Se=["src"],Le={class:"text-sm"},Ne={class:"flex-shrink-0 text-white"},je=e("svg",{class:"w-6 h-6",viewBox:"0 0 24 24",fill:"none"},[e("circle",{cx:"12",cy:"12",r:"12",fill:"#fff","fill-opacity":"0.2"}),e("path",{d:"M7 13l3 3 7-7",stroke:"#fff","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"})],-1),Be=[je],Ie={key:2},$e={key:3,class:"rounded-lg shadow-lg ring-1 ring-black ring-opacity-5 mt-2"},He=e("div",{class:"relative rounded-lg grid gap-8 bg-white p-7 lg:grid-cols-2"},[e("div",{class:"cursor-default select-none relative py-2 px-4 text-gray-700"}," Nothing found. ")],-1),Me=[He],qe={key:4,class:"rounded-lg shadow-lg ring-1 ring-black ring-opacity-5 mt-2"},Fe={class:"relative rounded-lg grid gap-8 bg-white p-7"},Oe=["value","href"],Re={class:"flex items-center justify-center flex-shrink-0 w-10 h-10 text-slate-600 text-xs sm:h-12 sm:w-12"},ze=["src"],Ae={class:"ml-4"},Pe={class:"text-sm font-medium text-gray-900"},Te={class:"text-sm text-gray-500"},Ze={class:"relative mt-1"},Ee={class:"flex space-x-3 mt-3"},Ge=["defaultValue"],Ye={key:0},De={key:1,class:"rounded-lg shadow-lg ring-1 ring-black ring-opacity-5 mt-2"},Qe=e("div",{class:"relative rounded-lg grid gap-8 bg-white p-7 lg:grid-cols-2"},[e("div",{class:"cursor-default select-none relative py-2 px-4 text-gray-700"}," Nothing found. ")],-1),Ke=[Qe],Ue={key:2,class:"rounded-lg shadow-lg ring-1 ring-black ring-opacity-5 mt-2"},We={class:"relative rounded-lg grid gap-8 bg-white p-7 lg:grid-cols-2"},Je=["value","href"],Xe={class:"flex items-center justify-center flex-shrink-0 w-10 h-10 text-slate-600 text-xs sm:h-12 sm:w-12"},et=["src"],tt={class:"ml-4"},st={class:"text-sm font-medium text-gray-900"},ot={class:"text-sm text-gray-500"};let b=h(""),v=h(""),_=h([]),g=h([]),x=h([]),y=h(!1);const it={methods:{autocomplete:async d=>{b.value=d,g.value=[],_.value=await(await fetch("/api/autocomplete?query="+d)).json()},recommendById:async d=>{y.value=!0,g.value=await(await fetch("/api/recommend?recordId="+d.recordId)).json(),y.value=!1},recommendByContext:async()=>{y.value=!0,v.value&&(x.value=await(await fetch("/api/recommend?context="+v.value)).json()),y.value=!1}}},nt=Object.assign(it,{setup(d){const r=["Find Similar Items","Contextual Search"];let c=h();return(u,o)=>(n(),l("div",ce,[de,i(se),ue,i(s(P),null,{default:a(()=>[i(s(R),{class:"flex p-1 space-x-1 bg-blue-900/20 rounded-xl"},{default:a(()=>[(n(),l(C,null,V(r,t=>i(s(T),{as:"template",key:t},{default:a(({selected:f})=>[e("button",{class:S(["w-full py-2.5 text-sm leading-5 font-medium text-blue-700 rounded-lg","focus:outline-none focus:ring-2 ring-offset-2 ring-offset-blue-400 ring-white ring-opacity-60",f?"bg-white shadow":"text-blue-100 hover:bg-white/[0.12] hover:text-white"])},p(t),3)]),_:2},1024)),64))]),_:1}),i(s(z),{class:"mt-2"},{default:a(()=>[i(s(N),null,{default:a(()=>[e("div",fe,[e("input",{class:"w-full border-none rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-100 py-2 pl-3 pr-10 text-sm leading-5 text-gray-900",placeholder:"search here...",onInput:o[0]||(o[0]=t=>u.autocomplete(t.target.value)),defaultValue:s(b)},null,40,me),e("div",ge,[s(_)&&s(_).records&&s(_).records.length===0&&s(b)!==""?(n(),l("div",he,_e)):m("",!0),s(_)&&s(_).records?(n(),l("div",xe,[e("div",ve,[i(s(A),{modelValue:s(c),"onUpdate:modelValue":o[1]||(o[1]=t=>j(c)?c.value=t:c=t)},{default:a(()=>[i(s(B),{class:"sr-only"},{default:a(()=>[ye]),_:1}),e("div",we,[(n(!0),l(C,null,V(s(_).records,(t,f)=>(n(),Z(s(Y),{as:"template",key:f,value:t},{default:a(({active:$,checked:k})=>[e("div",{class:S([[$?"ring-2 ring-offset-2 ring-offset-sky-300 ring-white ring-opacity-60":"",k?"bg-sky-900 bg-opacity-75 text-white ":"bg-white "],"relative flex px-5 py-4 rounded-lg shadow-md cursor-pointer focus:outline-none"]),onClick:rt=>u.recommendById(t)},[e("div",ke,[e("div",Ce,[e("div",Ve,[e("img",{src:t.image,alt:"Not found"},null,8,Se)]),e("div",Le,[i(s(B),{as:"p",class:S([k?"text-white":"text-gray-900","font-medium"])},{default:a(()=>[w(p(t.title),1)]),_:2},1032,["class"]),i(s(E),{as:"span",class:S([k?"text-sky-100":"text-gray-500","inline"])},{default:a(()=>[e("span",null,p(t.price),1)]),_:2},1032,["class"])])]),G(e("div",Ne,Be,512),[[D,k]])])],10,be)]),_:2},1032,["value"]))),128))])]),_:1},8,["modelValue"])])])):m("",!0),s(y)?(n(),l("div",Ie,[i(I)])):m("",!0),s(g)&&s(g).recommendations&&s(g).recommendations.length===0&&s(b)!==""?(n(),l("div",$e,Me)):m("",!0),s(g)&&s(g).recommendations?(n(),l("div",qe,[e("div",Fe,[(n(!0),l(C,null,V(s(g).recommendations,(t,f)=>(n(),l("a",{as:"template",key:f,value:t,href:t.link,rel:"noreferrer",target:"_blank",class:"flex items-center p-2 -m-3 transition duration-150 ease-in-out rounded-lg hover:bg-slate-100 focus:outline-none focus-visible:ring focus-visible:ring-orange-500 focus-visible:ring-opacity-50 cursor-pointer"},[e("div",Re,[e("img",{src:t.image,alt:"Not Found"},null,8,ze)]),e("div",Ae,[e("p",Pe,p(t.title),1),e("p",Te,p(t.price),1)])],8,Oe))),128))])])):m("",!0)])])]),_:1}),i(s(N),null,{default:a(()=>[e("div",Ze,[e("div",Ee,[e("input",{class:"w-full border-none rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-100 py-2 pl-3 pr-10 text-sm leading-5 text-gray-900",placeholder:"search with context here...",onInput:o[2]||(o[2]=t=>j(v)?v.value=t.target.value:v=t.target.value),defaultValue:s(v)},null,40,Ge),e("button",{type:"button",onClick:o[3]||(o[3]=(...t)=>u.recommendByContext&&u.recommendByContext(...t)),class:"px-4 py-2 text-sm font-medium bg-white text-indigo-700 rounded-md focus:outline-none focus-visible:ring-2 focus-visible:ring-white focus-visible:ring-opacity-75"}," Search ")]),s(y)?(n(),l("div",Ye,[i(I)])):m("",!0),s(x)&&s(x).recommendations&&s(x).recommendations.length===0&&s(b)!==""?(n(),l("div",De,Ke)):m("",!0),s(x)&&s(x).recommendations?(n(),l("div",Ue,[e("div",We,[(n(!0),l(C,null,V(s(x).recommendations,(t,f)=>(n(),l("a",{as:"template",key:f,value:t,href:t.link,rel:"noreferrer",target:"_blank",class:"flex items-center p-2 -m-3 transition duration-150 ease-in-out rounded-lg hover:bg-slate-100 focus:outline-none focus-visible:ring focus-visible:ring-orange-500 focus-visible:ring-opacity-50 cursor-pointer"},[e("div",Xe,[e("img",{src:t.image,alt:"Not Found"},null,8,et)]),e("div",tt,[e("p",st,p(t.title),1),e("p",ot,p(t.price),1)])],8,Je))),128))])])):m("",!0)])]),_:1})]),_:1})]),_:1})]))}}),lt={className:"min-h-screen bg-gradient-to-r from-indigo-400 to-sky-400"},at={setup(d){return(r,c)=>(n(),l("div",lt,[i(nt)]))}};Q(at).mount("#app");
